{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-933177cbde8c7ecf.js","src/my-library.js","node_modules/@parcel/runtime-js/lib/runtime-9ca11d9c057ae181.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1B9dp\\\":\\\"my-library.5f4fa362.js\\\",\\\"3JQXE\\\":\\\"noImg.cfedc109.jpg\\\",\\\"6IIJ4\\\":\\\"my-library.d84ec7db.js\\\"}\"));","import Notiflix from 'notiflix';\nimport spinner from './js/preLoader';\nimport './js/login-modal';\nimport operationLogicWatchedQueue from './js/operationLogicWatchedQueue.js';\nimport noImg from './images/noImg.jpg'; \n//* +++++++++++++++++++++++++++++++++++ Импорты файлов ++++++++++++++++++++++++++++++++++++++++++++\nfunction getRefsLibrary() {\n  return {\n    //! Получаем ссылку на div-контейнер для разметки карточек изображений:\n    moviesCards: document.querySelector('ul[data-action=\"movies-cards\"]'),\n    //! Получаем ссылку на div-контейнер для разметки карточек изображений:\n    InfoMovie: document.querySelector('div[data-action=\"modal-markup\"]'),\n    //! Получаем ссылку на кнопку HOME:\n    homeBtn: document.querySelector('a[data-action=\"button-home\"]'),\n    //! Получаем ссылку на кнопку Filmoteka:\n    filmotekaBtn: document.querySelector('a[data-action=\"button-filmoteka\"]'),\n    //! Получаем ссылку на кнопку MY LIBRARY:\n    myLibraryBtn: document.querySelector('a[data-action=\"button-mylibrary\"]'),\n    //! Получаем ссылку на <section class=\"section-hero\"> ==> на poster_path:\n    movieDetails: document.querySelector('section[data-action=\"section-hero\"]'),\n    closeModalBtn: document.querySelector('[data-action=\"close-modal\"]'),\n    backdrop: document.querySelector('.js-backdrop'),\n    //! Получаем ссылку на строку предупреждения об отсутствии фильмов:\n    resultNotSuccessful: document.querySelector('[data-action=\"search-alert\"]'),\n    //! Получаем ссылку на блок кнопок WATCHED и QUEUE в header:\n    watchedQueueHeader: document.querySelector('[data-action=\"library-btn\"]'),\n    //! Получаем ссылку на кнопоку WATCHED в header:\n    watchedHeader: document.querySelector('[data-action=\"library-watched\"]'),\n    //! Получаем ссылку на кнопоку QUEUE в header:\n    queueHeader: document.querySelector('[data-action=\"library-queue\"]'),\n  };\n}\n\n//! Создаем объект всех ссылок refs.*\nconst refs = getRefsLibrary();\n//* +++++++++++++++++++++++++++++++ Создаем ВСЕХ слушателей +++++++++++++++++++++++++++++++++++++++++\n\n//! Создаем слушателя событий на кнопке MY LIBRARY:\nrefs.myLibraryBtn.addEventListener('click', onMyLibraryWatched);\n//! Создаем слушателя событий на <section class=\"section-hero\"> ==> на poster_path:\nrefs.movieDetails.addEventListener('click', onMovieDetails);\n\n//! +++++++++++++++++++ Создаем слушателей для МОДАЛКИ ++++++++++++++++++++++++\n// refs.openModalBtn.addEventListener('click', onOpenModal); //? ----- для тестирования\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n\n//! ++++ Создаем слушателей на кнопках WATCHED и QUEUE для страницы MY LIBRARY +++++++\nrefs.watchedHeader.addEventListener('click', onMyLibraryWatched);\nrefs.queueHeader.addEventListener('click', onQueue);\n\n//* +++++++++++++++++++++++++++++++ Создаем ГЛОБАЛЬНЫЕ переменные +++++++++++++++++++++++++++++++++++++++++\n\n//! Создаем глобальную переменную (idFilms) для хранения idF одного фильма\nlet idFilms = 1;\n\n//! Создаем глобальную переменную (infoFilm) для хранения полной информации об одном фильме\nlet infoFilm = null;\n\n//! Переменная для определения типа запроса в кнопке LOAD MORE\n//! и типа станиц WATCHED и QUEUE\nlet currentPage = '';\n\n//! Переменные для хранения массива объектов фильмов для станиц WATCHED и QUEUE\nlet localStorageWatched = JSON.parse(localStorage.getItem('watched')) ?? [];\nlet localStorageQueue = JSON.parse(localStorage.getItem('queue')) ?? [];\n\n//* +++++++++++++++++++++++++++++++++++++++ Блок Функций  +++++++++++++++++++++++++++++++++++++++++++++++++\n\n//!!!!!! Загрузка популярных фильмов на страницу MY LIDRARY\nonMyLibraryWatched();\n\n//* -------------------------- Ф-ция-запрос_3, к-рая запрашивает полную информацию об одном фильме: ----------------------\n//шукаємо по id фільм і виводимо його на сторінку\nasync function onMovieDetails(event) {\n  if (event.target.closest('li')) {\n    const itemId = event.target.closest('li');\n    idFilms = Number(itemId.getAttribute('key'));\n    findFilmByIdLs(idFilms);\n  } else return;\n\n  // забираємо всі фільми з localStorage\n  function getQueueData() {\n    try {\n      const watched = JSON.parse(localStorage.getItem('queue')) || [];\n      if (watched === null) {\n        return [];\n      }\n      return watched;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function getWatchedData() {\n    try {\n      const watched = JSON.parse(localStorage.getItem('watched'));\n      if (watched === null) {\n        return [];\n      }\n      return watched;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  // шукає об'єкт по ID\n  function findFilmByIdLs(id) {\n    const films = [...getQueueData(), ...getWatchedData()];\n    const film = films.find(film => film.id == id);\n    infoFilm = film;\n    return film;\n  }\n  //! ПОКАЗЫВАЕМ Spinner\n  spinner.startSpinner();\n\n  //! Достаем из localStorage полную информации о фильме для МОДАЛКИ.\n  //! + проверяем на какой странице находимся (т.е. в каком localStorage искать)\n  if (currentPage === 'watched') {\n    infoFilm = localStorageWatched.find(option => option.id === idFilms);\n  }\n\n  if (currentPage === 'queue') {\n    infoFilm = localStorageQueue.find(option => option.id === idFilms);\n  }\n  //?_________________КОНЕЦ Получения и консоли всех данных _____________________\n\n  //! ==> Открываем модалку\n  window.addEventListener('keydown', onEscKeyPress);\n  document.body.classList.add('show-modal');\n\n  //! Прячем Spinner\n  spinner.removeSpinner();\n\n  //! Рисование интерфейса\n  appendInfoMovieMarkup(infoFilm);\n\n  //! Добавляем ГОТОВЫХ слушателей на кнопках <ADD TO WATCHED> и <ADD TO QUEUE> для МОДАЛКИ\n  addIventListenerModalBtn();\n\n  //! Вызываем БЛОК ЛОГИКИ работы кнопок <ADD TO WATCHED> и <ADD TO QUEUE>\n  operationLogicWatchedQueue(\n    currentPage,\n    refs,\n    infoFilm,\n    localStorageWatched,\n    localStorageQueue\n  );\n}\n\n//* -------------- Ф-ция_4, ДОБАВЛЕНИЕ/УДАЛЕНИЕ просмотренных фильмов в localStorage по кноке ADD TO WATCHED: ----------\n//! +++ Запрос полной информации о фильме для МОДАЛКИ +++\nfunction onWatchedModal() {\n  const textWatchedModal = refs.watchedModal.textContent;\n\n  if (textWatchedModal === 'ADD TO WATCHED') {\n    //! Блокировка повторной записи фильма в localStorage (ВРЕМЕННО)\n    if (localStorageWatched.find(option => option.id === infoFilm.id)) {\n      Notiflix.Notify.warning(\n        `Фильм ${infoFilm.title || infoFilm.name} уже есть в WATCHED`,\n        {\n          position: 'center-top',\n          clickToClose: true,\n          timeout: 2500,\n        }\n      );\n\n      refs.watchedModal.textContent = 'DELETE FROM WATCHED';\n      if (refs.watchedModal.classList.contains('modal-button-add-watched'))\n        refs.watchedModal.classList.remove('modal-button-add-watched');\n      if (!refs.watchedModal.classList.contains('modal-button-delete'))\n        refs.watchedModal.classList.add('modal-button-delete');\n      return;\n    }\n    //! Запись фильма в localStorage\n    localStorageWatched = [...localStorageWatched, infoFilm];\n    localStorage.setItem('watched', JSON.stringify(localStorageWatched));\n    Notiflix.Notify.success(\n      `Фильм ${infoFilm.title || infoFilm.name} добавлен в WATCHED`,\n      {\n        position: 'center-top',\n        clickToClose: true,\n        timeout: 2500,\n      }\n    );\n\n    //! Смена названия (textContent) кнопки на \"DELETE FROM WATCHED\"\n    refs.watchedModal.textContent = 'DELETE FROM WATCHED';\n    if (refs.watchedModal.classList.contains('modal-button-add-watched'))\n      refs.watchedModal.classList.remove('modal-button-add-watched');\n    if (!refs.watchedModal.classList.contains('modal-button-delete'))\n      refs.watchedModal.classList.add('modal-button-delete');\n  } else {\n    if (textWatchedModal === 'DELETE FROM WATCHED') {\n      localStorageWatched = localStorageWatched.filter(\n        item => item.id !== infoFilm.id\n      );\n      localStorage.setItem('watched', JSON.stringify(localStorageWatched));\n\n      Notiflix.Notify.info(\n        `Фильм ${infoFilm.title || infoFilm.name} удален из WATCHED`,\n        {\n          position: 'center-top',\n          clickToClose: true,\n          timeout: 2500,\n        }\n      );\n\n      refs.watchedModal.textContent = 'ADD TO WATCHED';\n      if (refs.watchedModal.classList.contains('modal-button-delete'))\n        refs.watchedModal.classList.remove('modal-button-delete');\n      if (!refs.watchedModal.classList.contains('modal-button-add-watched'))\n        refs.watchedModal.classList.add('modal-button-add-watched');\n\n      if (currentPage === 'watched') {\n        onCloseModal();\n        //! Очищаем контейнер:\n        clearMovieContainer();\n        appendWatchedQueueMarkup(localStorageWatched);\n      }\n    }\n  }\n}\n\n//* ------------------ Ф-ция_5, ДОБАВЛЕНИЕ/УДАЛЕНИЕ просмотренных фильмов в localStorage по кноке ADD TO QUEUE: --------------\n//! +++ Запрос полной информации о фильме для МОДАЛКИ +++\nfunction onQueueModal() {\n  const textQueuedModal = refs.queueModal.textContent;\n\n  if (textQueuedModal === 'ADD TO QUEUE') {\n    //! Блокировка повторной записи фильма в localStorage (ВРЕМЕННО)\n    if (localStorageQueue.find(option => option.id === infoFilm.id)) {\n      Notiflix.Notify.warning(\n        `Фильм ${infoFilm.title || infoFilm.name} уже есть в QUEUE`,\n        {\n          position: 'center-top',\n          clickToClose: true,\n          timeout: 2500,\n        }\n      );\n\n      refs.queueModal.textContent = 'DELETE FROM QUEUE';\n      if (refs.queueModal.classList.contains('modal-button-add-queue'))\n        refs.queueModal.classList.remove('modal-button-add-queue');\n      if (!refs.queueModal.classList.contains('modal-button-delete'))\n        refs.queueModal.classList.add('modal-button-delete');\n      return;\n    }\n    //! Запись фильма в localStorage\n    localStorageQueue = [...localStorageQueue, infoFilm];\n    localStorage.setItem('queue', JSON.stringify(localStorageQueue));\n\n    Notiflix.Notify.success(\n      `Фильм ${infoFilm.title || infoFilm.name} добавлен в QUEUE`,\n      {\n        position: 'center-top',\n        clickToClose: true,\n        timeout: 2500,\n      }\n    );\n\n    //! Смена названия (textContent) кнопки на \"DELETE FROM QUEUE\"\n    refs.queueModal.textContent = 'DELETE FROM QUEUE';\n    if (refs.queueModal.classList.contains('modal-button-add-queue'))\n      refs.queueModal.classList.remove('modal-button-add-queue');\n    if (!refs.queueModal.classList.contains('modal-button-delete'))\n      refs.queueModal.classList.add('modal-button-delete');\n  } else {\n    if (textQueuedModal === 'DELETE FROM QUEUE') {\n      localStorageQueue = localStorageQueue.filter(\n        item => item.id !== infoFilm.id\n      );\n      localStorage.setItem('queue', JSON.stringify(localStorageQueue));\n      Notiflix.Notify.info(\n        `Фильм ${infoFilm.title || infoFilm.name} удален из QUEUE`,\n        {\n          position: 'center-top',\n          clickToClose: true,\n          timeout: 2500,\n        }\n      );\n\n      refs.queueModal.textContent = 'ADD TO QUEUE';\n      if (refs.queueModal.classList.contains('modal-button-delete'))\n        refs.queueModal.classList.remove('modal-button-delete');\n      if (!refs.queueModal.classList.contains('modal-button-add-queue'))\n        refs.queueModal.classList.add('modal-button-add-queue');\n\n      if (currentPage === 'queue') {\n        onCloseModal();\n        //! Очищаем контейнер:\n        clearMovieContainer();\n        appendWatchedQueueMarkup(localStorageQueue);\n        // refs.queueHeader.classList.t oggle('current-page');\n      }\n    }\n  }\n}\n\n//* -------------------------- Ф-ция_6, для работы с MY LIBRARY или кнопкой WATCHED: ----------------------\nfunction onMyLibraryWatched() {\n  currentPage = 'watched';\n  //! Очищаем контейнер:\n  clearMovieContainer();\n  //! Перезаписываем в локальную переменную (results) значение всего (localStorage)\n  const results = JSON.parse(localStorage.getItem('watched')) ?? [];\n  //! Рисование интерфейса\n  appendWatchedQueueMarkup(results);\n\n    refs.watchedHeader.classList.add('current-page');\n  refs.queueHeader.classList.remove('current-page');\n}\n\n//* -------------------------- Ф-ция_7, для работы с кнопкой QUEUEв MY LIBRARY : ----------------------\nfunction onQueue() {\n  //! Назначаем тип станицы QUEUE для логики работы кнопок МОДАЛКИ\n  currentPage = 'queue';\n  //! Очищаем контейнер:\n  clearMovieContainer();\n\n  //! Перезаписываем в локальную переменную (results) значение всего (localStorage)\n  const results = JSON.parse(localStorage.getItem('queue')) ?? [];\n\n  //! Рисование интерфейса ;\n  refs.watchedHeader.classList.remove('current-page');\n  refs.queueHeader.classList.add('current-page');\n  appendWatchedQueueMarkup(results);\n}\n\n//* ---------------------------------------------- Функции-вызывалки ;-) ----------------------------------------------\n//! ++++++++++++++ Ф-ция, к-рая проверяет значения переменной (currentPage) для определения типа запроса в кнопке LOAD MORE ++++++++++++++\nasync function checkResults() {\n  if (currentPage === 'home-Filmoteka') {\n    const results = await themoviedbApiService.getTrendingAllDay();\n    films = results;\n  } else {\n    if (currentPage === 'Movie search') {\n      const results = await themoviedbApiService.getSearchMovies();\n      films = results;\n    } else {\n      return;\n    }\n  }\n}\n\n//! ++++++++++++++ Ф-ция, к-рая очищает контейнер при новом вводе данных в input form: ++++++++++++++\nfunction clearMovieContainer() {\n  refs.moviesCards.innerHTML = '';\n}\n\n//! ++++++++++++++ Ф-ция, к-рая очищает контейнер МОДАЛКИ: ++++++++++++++\nfunction clearModalContainer() {\n  refs.InfoMovie.innerHTML = '';\n}\n\n//! ++++++++++++++ Ф-ция, к-рая  прверяет results на пустой массив: ++++++++++++++\nfunction onCloseModal() {\n  window.removeEventListener('keydown', onEscKeyPress);\n  document.body.classList.remove('show-modal');\n  //! Очищаем контейнер МОДАЛКИ:\n  clearModalContainer();\n}\n\nfunction onBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    onCloseModal();\n  }\n}\n\nfunction onEscKeyPress(event) {\n  if (event.code === 'Escape') {\n    onCloseModal();\n  }\n}\n//!_____________________________________________________________________\n\n//! +++++++++ Создаем слушателей на кнопках <ADD TO WATCHED> и <ADD TO QUEUE> для МОДАЛКИ ++++++++++++++\nfunction addIventListenerModalBtn() {\n  refs.watchedModal = document.querySelector(\n    'button[data-action=\"modal-add-watched\"]'\n  );\n  refs.queueModal = document.querySelector(\n    'button[data-action=\"modal-add-queue\"]'\n  );\n\n  refs.watchedModal.addEventListener('click', onWatchedModal);\n  refs.queueModal.addEventListener('click', onQueueModal);\n}\n\n//* --------------------------------------- Функции-разметки ---------------------------------------------------------\n//! +++++++++++++++++++++++++++++ Markup WATCHED и QUEUE ++++++++++++++++++++++++++++++++++++++++++++++\n//*  Ф-ция-then, к-рая отрисовывает интерфейс ВСЕХ карточек на странице:\nfunction appendWatchedQueueMarkup(results) {\n  //!   Добавляем новую разметку в div-контейнер с помощью insertAdjacentHTML:\n  refs.moviesCards.insertAdjacentHTML(\n    'beforeend',\n    createWatchedQueueCardsMarkup(results)\n  );\n}\n\n//*   Ф-ция, к-рая создает новую разметку для ОДНОЙ карточки из ВСЕХ карточек:\nfunction createWatchedQueueCardsMarkup(results) {\n  return results\n    .map(\n      ({\n        id,\n        poster_path,\n        title,\n        name,\n        genres,\n        first_air_date,\n        release_date,\n        vote_average,\n      }) => {\n        //? Получаем строку со всеми жанрами\n        const genresAllOneFilm = genres.map(item => item.name).join(', ');\n\n        //? Получаем значение года из строки даты:\n        const date = first_air_date || release_date || '???? - ?? - ??';\n        const yearDate = date.substr(0, 4);\n\n        //?Убираем лишние знаки после запятой\n        const voteAverage = vote_average.toFixed(1);\n\n        //? Делаем заглавныее буквы в названии фильма (пока НЕ РАБОТАЕТ capitalsName)\n        let capitalsTitle = title;\n        if (title) {\n          capitalsTitle = title.toUpperCase();\n        }\n\n        let capitalsName = name;\n        if (name) {\n          const capitalsName = name.toUpperCase();\n        }\n\n        return `\n                <li class=\"gallery__item\" key=${id}>\n                ${poster_path ? \n                  `<img class=\"gallery__img\" src=\"https://image.tmdb.org/t/p/w780${poster_path}\" alt=\"${title || name}\"  />` : \n                  `<img class=\"gallery__img\" src=${noImg} alt=\"${title}\" />`\n                  }\n                    \n                    <div class=\"gallery__thumb\">\n                        <h2 class=\"gallery__title\">${\n                          capitalsTitle || capitalsName\n                        }</h2>\n                        <p class=\"gallery__text\">${genresAllOneFilm} &nbsp|&nbsp ${yearDate}&nbsp &nbsp${voteAverage}</p>\n                    </div>\n                </li>\n                `;\n      }\n    )\n    .join('');\n}\n\n//! +++++++++++++++++++++++++++++ Markup infoFilm ++++++++++++++++++++++++++++++++++++++++++++++\n//*  Ф-ция-then, к-рая отрисовывает интерфейс ОДНОГО фильма в МОДАЛКЕ:\nfunction appendInfoMovieMarkup(infoFilm) {\n  //!   Добавляем новую разметку в div-контейнер с помощью insertAdjacentHTML:\n  refs.InfoMovie.insertAdjacentHTML(\n    'afterbegin',\n    createInfoMovieMarkup(infoFilm)\n  );\n}\n\n//! --------------------------------------------------------------------------------------------\n//*   Ф-ция, к-рая создает новую разметку ОДНОГО фильма в МОДАЛКЕ:\nfunction createInfoMovieMarkup(infoFilm) {\n  const {\n    id,\n    poster_path,\n    title,\n    name,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    original_name,\n    genres,\n    overview,\n  } = infoFilm;\n\n  //? Получаем строку со всеми жанрами\n  const genresAllOneFilm = genres.map(item => item.name).join(', ');\n\n  //? Делаем заглавныее буквы в названии фильма (пока НЕ РАБОТАЕТ capitalsName)\n  let capitalsTitle = title;\n  if (title) {\n    capitalsTitle = title.toUpperCase();\n  }\n\n  let capitalsName = name;\n  if (name) {\n    const capitalsName = name.toUpperCase();\n  }\n\n  return `\n  ${poster_path ? \n    `<img class=\"modal-img\" src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"${title || name}\"  />` : \n    `<img class=\"modal-img\" src=${noImg} alt=\"${title}\" />`\n    }\n                \n        <div class=\"modal-сontent\">\n            <h3 class=\"modal-title-film\">${capitalsTitle || capitalsName}</h3>\n            <table class=\"modal-info\">\n                <tbody>\n                    <tr>\n                        <td class=\"modal-key\">Vote/Votes</td>\n                        <td class=\"modal-parametr\"><span class=\"modal-parametr-vote\">${vote_average}</span> / ${vote_count}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"modal-key\">Popularity</td>\n                        <td class=\"modal-parametr\">${popularity}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"modal-key\">Original Title</td>\n                        <td class=\"modal-parametr\">${\n                          original_title || original_name\n                        }</td>\n                    </tr>\n                    <tr>\n                        <td class=\"modal-key\">Genre</td>\n                        <td class=\"modal-parametr\">${genresAllOneFilm}</td>\n                    </tr>\n                </tbody>\n            </table>\n            <div class=\"modal-about-film\">\n                <h5 class=\"modal-about-title\">ABOUT</h5>\n                <span class=\"modal-about-text\">${overview}</span>\n            </div>\n        \n            <div class=\"modal-button\" data-action=\"library-btn\">\n                <button type=\"button\" class=\"modal-button-add-watched\" data-action=\"modal-add-watched\">ADD TO WATCHED</button>\n\n                <button type=\"button\" class=\"modal-button-add-queue\" data-action=\"modal-add-queue\">ADD TO QUEUE</button>\n\n            </div>\n        </div>\n    `;\n}\n\n// --KHARLAMOVA TETIANA----------------МОДАЛЬНЕ ВІКНО З КОМАНДОЮ----------------------------------\n(() => {\n  const refsModalTeam = {\n    openModalTeamLink: document.querySelector('.team-link'),\n    closeModalTeamBtn: document.querySelector('.team-close-btn'),\n    modalTeam: document.querySelector('.backdrop-team'),\n    body: document.querySelector('body'),\n  };\n  const { openModalTeamLink, closeModalTeamBtn, modalTeam, body } =\n    refsModalTeam;\n  openModalTeamLink.addEventListener('click', onOpenModalTeam);\n  closeModalTeamBtn.addEventListener('click', onCloseModalTeam);\n  modalTeam.addEventListener('click', onBackdropTeamClick);\n\n  function onCloseModalTeam(e) {\n    modalTeam.classList.toggle('is-hidden');\n    body.classList.toggle('no-scroll');\n    window.removeEventListener('keydown', onEscKeyPress);\n  }\n\n  function onOpenModalTeam(e) {\n    window.addEventListener('keydown', onEscKeyPress);\n    modalTeam.classList.toggle('is-hidden');\n    body.classList.toggle('no-scroll');\n  }\n  function onEscKeyPress(e) {\n    if (e.key === 'Escape') {\n      onCloseModalTeam();\n    }\n  }\n\n  function onBackdropTeamClick(e) {\n    if (e.currentTarget === e.target) {\n      onCloseModalTeam();\n    }\n  }\n})();\n// -----------------------END OF МОДАЛЬНЕ ВІКНО З КОМАНДОЮ----------------------------\n","module.exports = require('./helpers/bundle-url').getBundleURL('1B9dp') + require('./helpers/bundle-manifest').resolve(\"3JQXE\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$iU1Pc","$edac6af9ef7d3379$exports","getBundleURL","resolve","$865c390aa2d1ad34$var$refs","moviesCards","document","querySelector","InfoMovie","homeBtn","filmotekaBtn","myLibraryBtn","movieDetails","closeModalBtn","backdrop","resultNotSuccessful","watchedQueueHeader","watchedHeader","queueHeader","addEventListener","$865c390aa2d1ad34$var$onMyLibraryWatched","async","event","target","closest","itemId","$865c390aa2d1ad34$var$idFilms","Number","getAttribute","film1","getQueueData","getWatchedData","find","film","$865c390aa2d1ad34$var$infoFilm","findFilmByIdLs","watched","localStorage","getItem","error","console","log","$g2eb2","default","startSpinner","$865c390aa2d1ad34$var$currentPage","$865c390aa2d1ad34$var$localStorageWatched","option","$865c390aa2d1ad34$var$localStorageQueue","window","$865c390aa2d1ad34$var$onEscKeyPress","body","classList","add","removeSpinner","infoFilm1","insertAdjacentHTML","infoFilm2","poster_path","title","name","vote_average","vote_count","popularity","original_title","original_name","genres","overview","genresAllOneFilm","map","item","join","capitalsTitle","toUpperCase","capitalsName","$parcel$interopDefault","$865c390aa2d1ad34$var$createInfoMovieMarkup","watchedModal","queueModal","$865c390aa2d1ad34$var$onWatchedModal","$865c390aa2d1ad34$var$onQueueModal","$gp4J8","$865c390aa2d1ad34$var$onCloseModal","currentTarget","ref3","$865c390aa2d1ad34$var$clearMovieContainer","results","remove","$865c390aa2d1ad34$var$appendWatchedQueueMarkup","$865c390aa2d1ad34$var$ref","$865c390aa2d1ad34$var$ref1","textWatchedModal","textContent","Notify","warning","position","clickToClose","timeout","contains","setItem","stringify","success","filter","info","textQueuedModal","ref2","innerHTML","removeEventListener","code","first_air_date","release_date","yearDate","substr","voteAverage","toFixed","$865c390aa2d1ad34$var$createWatchedQueueCardsMarkup","refsModalTeam","openModalTeamLink","closeModalTeamBtn","modalTeam","onCloseModalTeam","e","toggle","onEscKeyPress1","key"],"version":3,"file":"my-library.5f4fa362.js.map"}